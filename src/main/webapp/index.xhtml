<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pl">
    <head>
        <title>Visits plan.</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js" type="text/javascript"></script>
        <script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.11.2.js" type="text/javascript"></script>
        <script src="js/visits.js" type="text/javascript"></script>        
        <script src="https://apis.google.com/js/client.js?onload=init" type="text/javascript"></script>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"  />
    </head>
    <body ng-app="visitsApp">
        <div ng-controller="VisitsCtrl" ng-show="is_backend_ready">
            <h2>Visits</h2>
            <form ng-submit="insert()">
                <table>
                    <tr>
                        <td>First visit:</td>
                        <td>
                            <datepicker ng-model="start" starting-date="1" date-disabled="disabled(date, mode)" min-date="minDate" show-weeks="true" class="well well-sm"></datepicker>
                        </td>
                        <!--                
                        <div class="row">
                                            <div class="col-md-6">
                                                <p class="input-group">
                                                    <input type="text" class="form-control" ng-model="start" format="yyyy/MM/dd" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                                    </span>
                                                </p>
                                            </div>
                                        </div>-->
                    </tr>
                    <tr>
                        <td>Visits count:</td>
                        <td><input type="text" ng-model="count" size="50" /></td>
                    </tr>
                    <tr>
                        <td>Days:</td>
                        <td>
                            <label ng-repeat="day in all_days">
                                <input type="checkbox" name="selectedDays[]" value="{{day.name}}" ng-model="day.selected" size="50"/> {{day.name}}
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="submit" class="btn" value="Post" /></td>
                    </tr>
                </table>
            </form>

            <div ng-show="plan">
                <table>
                    <tr>
                        <td><b>Plan last day:</b></td>
                        <td><b>{{plan.last| date:'yyyy-MM-dd (EEEE)'}}</b></td>
                    </tr>
                    <tr ng-repeat="day in plan.interns">
                        <td>Visit {{$index + 1}}:</td><td>{{day| date:'yyyy-MM-dd (EEEE)'}}</td>
                    </tr>
                </table>
            </div>

            <!--<div ui-calendar="uiConfig.calendar" class="span8 calendar" ng-model="eventSources"></div>-->
        </div>

    </body>
</html>
